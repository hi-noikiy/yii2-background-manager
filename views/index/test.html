<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="//cdn.bootcss.com/echarts/3.3.2/echarts.min.js" charset="utf-8"></script>
</head>
<body>
<select id="selectID">
    <option value="day">按天</option>
    <option value="week">按周</option>
    <option value="month">按月</option>
</select>
<div id="main" style="width: 600px;height:400px;"></div>
</body>
<script>
    //walden为echarts主题，_.flatten为underscore.js提供的数组扁平化方法
    var myChart = echarts.init(document.getElementById('main'));

    //封装_ajax方法，每次切换时发起get请求，获取相应的json文件，请求成功后渲染echarts
    function ajax1(url) {
        $.ajax({
            type: 'get',
            url: url,
            success: function(res) {
                option = {
                    xAxis: {
                        // data: res.series
                        data: ['00:00', '01:00', '02:00', '03:00', '04:00', '05:00', '06:00','06:00','07:00','08:00','09:00','10:00','11:00','12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00','21:00','22:00','23:00']

                    },
                    yAxis: {},
                    series: [{
                        name: '销量',
                        type: 'line',
                        // data: _.flatten(res.rows[0].values)
                        data: [120, 200, 150, 80, 70, 110, 130,120, 200, 150, 80, 70, 110, 130,120, 200, 150, 80, 70, 110, 130,70, 110],

                    }]
                };
                myChart.setOption(option);
            }
        });
    }

    // function() {
     ajax1('week.json');
    $("#selectID").change(function() {
        var selectValue = $("#selectID").val();
        switch(selectValue){
            case 'day':
                ajax1('week.json');
                break;
            case 'week':
                ajax1('week.json');
                break;
            default:
                ajax1('week.json');
        }
    });
    // };
</script>
</html>