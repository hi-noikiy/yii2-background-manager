<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="format-detection" content="telephone=no, email=no">
    <title>广告轮播</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<style>
    a{text-decoration: none;}
    .weixin {float: left;position: absolute;left:39%;top:48%; font-weight:500;font-size: 20px;color:#FFF9D8;line-height: 38px;}
    .agent{float: left;position: absolute;left:54%;top:55%;font-weight:500;font-size: 25px;color:#FFE18F;}
</style>
<body style="background-color: #55acee">
<div style="background-color:transparent;">
    <div id="myCarousel" class="carousel slide"  style="margin :0 auto; ">
        <!-- 轮播（Carousel）指标 -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>

        <!-- 轮播（Carousel）项目 -->
        <div class="carousel-inner" style="margin:0 auto;background-color:transparent;height="100%" width="100%">
        <div class="item active">
            <a href="http://www.taobao.com" >
                <div class="weixin" id="weixin">
                    <p></p>
                    <p></p>
                    <p></p>
                </div>
                <img src="../static/images/bannerImg/sz3.png" height="100%" width="98%"/>
            </a>
        </div>
        <div class="item">
            <a href="http://www.baidu.com"><img src="../static/images/bannerImg/sz4.png"  height="100%" width="98%"/></a>
        </div>
        <div class="item">
            <a href="http://www.jd.com">
                <div class="agent" id="agent">
                    <p></p>
                </div>
                <img src="../static/images/bannerImg/sz5.png"  height="100%" width="98%"/>
            </a>
        </div>
    </div>

</div>
</div>
<script>
    // 轮播事件
    $(function(){
        // 初始化轮播
        // $('#myCarousel').carousel({interval: 3000});

        var startx, starty;
//获得角度
        function getAngle(angx, angy) {
            return Math.atan2(angy, angx) * 180 / Math.PI;
        };

//根据起点终点返回方向 1向上 2向下 3向左 4向右 0未滑动
        function getDirection(startx, starty, endx, endy) {
            var angx = endx - startx;
            var angy = endy - starty;
            var result = 0;

            //如果滑动距离太短
            if (Math.abs(angx) < 2 && Math.abs(angy) < 2) {
                return result;
            }

            var angle = getAngle(angx, angy);
            if (angle >= -135 && angle <= -45) {
                result = 1;
            } else if (angle > 45 && angle < 135) {
                result = 2;
            } else if ((angle >= 135 && angle <= 180) || (angle >= -180 && angle < -135)) {
                result = 3;
            } else if (angle >= -45 && angle <= 45) {
                result = 4;
            }

            return result;
        }
//手指接触屏幕
        document.addEventListener("touchstart", function(e){
            startx = e.touches[0].pageX;
            starty = e.touches[0].pageY;
        }, false);
// //手指离开屏幕
        document.addEventListener("touchend", function(e) {
            var endx, endy;
            endx = e.changedTouches[0].pageX;
            endy = e.changedTouches[0].pageY;
            var direction = getDirection(startx, starty, endx, endy);

            switch (direction) {
                case 0:
                    // alert("未滑动！");
                    break;
                case 1:
                    // alert("向上！");
                    break;
                case 2:
                    // alert("向下！");
                    break;
                case 3:
                    // alert("向左！");
                    $("#myCarousel").carousel('next');
                    break;
                case 4:
                    // alert("向右！");
                    $("#myCarousel").carousel('prev');
                    break;
                default:
            }
        }, false);

    });
    //   获取数据
    $.ajax({
        url:'',
        data:{},
        dataType:"JSON",
        success:function (res) {

        },
        error:function (res) {
            $("#weixin p").html('PKQP04');
            $('#agent p').html('PKQP05');
        }
    })
</script>
</body>
</html>